{% extends 'base.html' %}
{% load static %}

{% block title %}
Ingredients
{% endblock %}

{% block content %}
    <h1>Ingredients Inventory <a style="font-size: 14px; vertical-align: middle;" href="{% url 'create_ingredient' %}">Create New Ingredient</a></h1>
    <div class="table-box">
        <table class="list">
            <tr>
                <th>Category</th>
                <th>Ingredient</th>
                <th>Stock</th>
                <th>Unit</th>
                <th>Price EUR</th>
                <th>Stock Value EUR</th>
            </tr>
            {% for item in ingredients|dictsort:'category' %}
                <tr>
                    <td style="width:25%;">{{ item.category }}</td>
                    <td style="width:20%;">{{ item.name }}</td>
                    <td style="width:10%; text-align: right;">{{ item.quantity|floatformat:2 }}</td>
                    <td style="width:5%;">{{ item.unit }}</td>
                    <td style="width:10%;">€ {{ item.price }}</td>
                    <td style="width:10%;">€ {{ item.stock_value|floatformat:2 }}</td>
                    <td style="width:10%; text-align: center;"><a href="{% url 'update_ingredient' item.pk %}">Update</a></td>
                    <td style="width:10%; text-align: center;"><a href="{% url 'delete_ingredient' item.pk %}">Delete</a></td>
                </tr>
            {% endfor %}
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td colspan="3" style="text-align: right;">Total stock value: € {{ total_value|floatformat:2 }}</td>
            </tr>
        </table>
    </div>
    {% block ingredient %}
    {% endblock %}
{% endblock %}

